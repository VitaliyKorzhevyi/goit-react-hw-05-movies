{"version":3,"file":"static/js/168.72a5f784.chunk.js","mappings":"gOACA,EAA4B,2BAA5B,EAA8D,sBAA9D,EAA2F,sBAA3F,EAAyH,uBAAzH,EAA6J,4BAA7J,EAAoM,0BAApM,EAA6O,8BAA7O,EAAkR,sB,SC2DlR,EAtDgB,WACd,IAAAA,GAA8BC,EAAAA,EAAAA,UAAS,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAClBI,GAAYC,EAAAA,EAAAA,MAAZD,QAGFE,GAAcC,EAAAA,EAAAA,UAAQ,kBAAMC,EAAAA,EAAAA,IAAgBJ,EAAQ,GAAE,CAACA,IAQ7D,OANAK,EAAAA,EAAAA,YAAU,WACRH,EAAYI,MAAK,SAAAC,GACfR,EAAWQ,EAAIC,QACjB,GACF,GAAG,CAACN,EAAaH,KAGfU,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAYC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACHd,EAAQgB,QACPD,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAOC,SACnBd,EAAQiB,KAAI,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAMF,EAANE,OAAQC,EAAcH,EAAdG,eAAgBC,EAAGJ,EAAHI,IAAKC,EAAOL,EAAPK,QAAO,OACtDR,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAOC,UACpBH,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACEH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQC,SAAA,EACtBC,EAAAA,EAAAA,KAAA,KAAAD,UACEH,EAAAA,EAAAA,MAAA,UAAAG,SAAA,CAAQ,cACM,KACZC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAeC,SAAEM,UAGtCT,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAaC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,KAAGH,UAAU,gBACZS,EAAeG,OAAO,YAG3Bb,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAWC,SAAA,CACtBS,EAAQP,OA/BN,IA+ByB,GAAAS,OACrBF,EAAQG,MAAM,EAhClB,KAgCgC,OAC/BH,EACHA,EAAQP,OAlCN,MAmCDD,EAAAA,EAAAA,KAAA,KAAGY,KAAML,EAAKV,UAAWC,EAAOC,UAC9BC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,wBApBUK,EAyBvB,OAITJ,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mEAIX,C,6MCtDAc,EAAAA,EAAAA,SAAAA,QAAyB,gCAEzB,IAAMC,EAAW,eAAAX,GAAAY,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMC,GAAI,IAAAX,EAAAY,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACT,OAAbf,EAAG,GAAAG,OAAMQ,GAAIE,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEMT,EAAAA,EAAAA,IAAUN,EAAK,CACpCgB,OAAQ,CAAEC,QAPJ,sCAQL,KAAD,EAFY,OAARL,EAAQC,EAAAK,KAAAL,EAAAM,OAAA,SAGPP,EAASQ,MAAI,OAAAP,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAEpBS,EAAAA,GAAAA,MAAY,SACZC,QAAQC,MAAKX,EAAAQ,IAAQ,yBAAAR,EAAAY,OAAA,GAAAf,EAAA,kBAExB,gBAXgBgB,GAAA,OAAA9B,EAAA+B,MAAA,KAAAC,UAAA,KAaJC,EAAe,eAAAC,GAAAtB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAsB,IAAA,OAAAtB,IAAAA,MAAA,SAAAuB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAjB,KAAA,EACvBR,EAAY,uBAAuB,KAAD,SAAAyB,EAAAb,OAAA,SAAAa,EAAAd,MAAA,wBAAAc,EAAAP,OAAA,GAAAM,EAAA,uBADd,OAAAD,EAAAH,MAAA,KAAAC,UAAA,KAGfK,EAAU,eAAAC,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA0B,EAAMvD,GAAO,OAAA6B,IAAAA,MAAA,SAAA2B,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EAC/BR,EAAY,SAADJ,OAAUvB,IAAW,KAAD,SAAAwD,EAAAjB,OAAA,SAAAiB,EAAAlB,MAAA,wBAAAkB,EAAAX,OAAA,GAAAU,EAAA,qBADhBE,GAAA,OAAAH,EAAAP,MAAA,KAAAC,UAAA,KAGVU,EAAY,eAAAC,GAAA/B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA+B,EAAM5D,GAAO,OAAA6B,IAAAA,MAAA,SAAAgC,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,cAAA0B,EAAA1B,KAAA,EACjCR,EAAY,SAADJ,OAAUvB,EAAO,aAAY,KAAD,SAAA6D,EAAAtB,OAAA,SAAAsB,EAAAvB,MAAA,wBAAAuB,EAAAhB,OAAA,GAAAe,EAAA,qBADtBE,GAAA,OAAAH,EAAAZ,MAAA,KAAAC,UAAA,KAGZ5C,EAAe,eAAA2D,GAAAnC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAmC,EAAMhE,GAAO,OAAA6B,IAAAA,MAAA,SAAAoC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA9B,KAAA,EACpCR,EAAY,SAADJ,OAAUvB,EAAO,aAAY,KAAD,SAAAiE,EAAA1B,OAAA,SAAA0B,EAAA3B,MAAA,wBAAA2B,EAAApB,OAAA,GAAAmB,EAAA,qBADnBE,GAAA,OAAAH,EAAAhB,MAAA,KAAAC,UAAA,KAIbmB,EAAc,eAAAC,GAAAxC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAwC,EAAMC,GAAM,OAAAzC,IAAAA,MAAA,SAAA0C,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAApC,KAAA,EACpCR,EAAY,sBAADJ,OAAuB+C,EAAM,YAAW,KAAD,SAAAC,EAAAhC,OAAA,SAAAgC,EAAAjC,MAAA,wBAAAiC,EAAA1B,OAAA,GAAAwB,EAAA,qBAD7BG,GAAA,OAAAJ,EAAArB,MAAA,KAAAC,UAAA,I","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Reviews_container__2j80+\",\"list\":\"Reviews_list__okdpy\",\"item\":\"Reviews_item__DJKij\",\"title\":\"Reviews_title__t265C\",\"ratingInfo\":\"Reviews_ratingInfo__TGfuV\",\"textInfo\":\"Reviews_textInfo__w1qQc\",\"authorAccent\":\"Reviews_authorAccent__ABJtg\",\"more\":\"Reviews_more__bz-Gv\"};","import { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getReviewsMovie } from 'services/api';\n\nimport s from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState({});\n  const { movieId } = useParams();\n  const MAX_LENGTH = 400;\n\n  const memoReviews = useMemo(() => getReviewsMovie(movieId), [movieId]);\n\n  useEffect(() => {\n    memoReviews.then(res => {\n      setReviews(res.results);\n    });\n  }, [memoReviews, setReviews]);\n\n  return (\n    <div className={s.container}>\n      <h3>Reviews</h3>\n      {reviews.length ? (\n        <ul className={s.list}>\n          {reviews.map(({ id, author, author_details, url, content }) => (\n            <li className={s.item} key={id}>\n              <div>\n                <div className={s.title}>\n                  <p>\n                    <strong>\n                      A review by{' '}\n                      <span className={s.authorAccent}>{author}</span>\n                    </strong>\n                  </p>\n                  <span className={s.ratingInfo}>\n                    <i className=\"bx bxs-star\"></i>\n                    {author_details.rating}.0\n                  </span>\n                </div>\n                <p className={s.textInfo}>\n                  {content.length > MAX_LENGTH\n                    ? `${content.slice(0, MAX_LENGTH)}...`\n                    : content}\n                  {content.length > MAX_LENGTH && (\n                    <a href={url} className={s.more}>\n                      <strong> Read more</strong>\n                    </a>\n                  )}\n                </p>\n              </div>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>We don't have any information about reviews of this movie =(</p>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst KEY = 'da273fadec6e0549daf77f4eda281870';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst makeRequest = async path => {\n  const url = `${path}`;\n  try {\n    const response = await axios.get(url, {\n      params: { api_key: KEY },\n    });\n    return response.data;\n  } catch (error) {\n    toast.error('Error')\n    console.error(error);\n  }\n};\n\nexport const getListTrending = async () =>\n  await makeRequest('trending/movie/day?');\n\nexport const getIdMovie = async movieId =>\n  await makeRequest(`movie/${movieId}`);\n\nexport const getCastMovie = async movieId =>\n  await makeRequest(`movie/${movieId}/credits`);\n\nexport const getReviewsMovie = async movieId =>\n  await makeRequest(`movie/${movieId}/reviews`);\n\n\n  export const getSearchMovie = async search =>\n  await makeRequest(`search/movie?query=${search}&page=1`);\n//   export const getSearchMovie = async () =>\n//   await makeRequest(`search/movie?query=car&page=1`);\n\n//   async function getIdMovie(search) {\n//     try {\n//       const response = await axios.get(\n//         `movie/${search}?api_key=${KEY}&language=en-US`\n//       );\n//       return response.data;\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   }\n  \n//   async function getCastMovie(id) {\n//     try {\n//       const response = await axios.get(\n//         `movie/${id}/credits?api_key=${KEY}&language=en-US`\n//       );\n//       return response.data.cast;\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   }\n  \n//   async function getReviewsMovie(id) {\n//     try {\n//       const response = await axios.get(\n//         `movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n//       );\n//       return response.data.results;\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   }\n//   export {\n//     getListTrending,\n//     getIdMovie,\n//     getCastMovie,\n//     getReviewsMovie,\n//   };\n"],"names":["_useState","useState","_useState2","_slicedToArray","reviews","setReviews","movieId","useParams","memoReviews","useMemo","getReviewsMovie","useEffect","then","res","results","_jsxs","className","s","children","_jsx","length","map","_ref","id","author","author_details","url","content","rating","concat","slice","href","axios","makeRequest","_asyncToGenerator","_regeneratorRuntime","_callee","path","response","_context","prev","next","params","api_key","sent","abrupt","data","t0","toast","console","error","stop","_x","apply","arguments","getListTrending","_ref2","_callee2","_context2","getIdMovie","_ref3","_callee3","_context3","_x2","getCastMovie","_ref4","_callee4","_context4","_x3","_ref5","_callee5","_context5","_x4","getSearchMovie","_ref6","_callee6","search","_context6","_x5"],"sourceRoot":""}